# 스프링의 강의 리뷰📽
> LoadMap Part : 스프링 핵심원리 - 기본편  
> Section : 01. 객체 지향 설계와 스프링   
> CreateDate : 2022.06.11  
> UpdateDate :

# 01.객체 지향설계와 스프링

# 스프링의 탄생 배경🖼
## 자바의 정파 기술 : EJB
```
    - 스프링 이전에 가장 많이 쓰이는 기술
    - 오픈소스가 아닌 자바기술을 다 쓸수 있는 종합세트
    - 자바의 표준 기술로 인정한 기술(덕분에 보급이 잘 됨)
```
### 단점
- entitiy Bean이라는 기술이 있는데 수천만원.. 비쌌음..
- 워낙 종합적이어서 복잡하고 어려움. 의존적임

> 문제점이 너무 크자, 개발자들이 POJO을 외침.   
> `POJO` : 오래된 방식의 간단한 자바 오프젝트를 쓰자

### 오픈 소스
 - 답답한 마음에 실무 개발자(Gavin King)가 직접 `하이버네이트`라는 오픈 소스를 만듦
 - 개발자들이 `하이버네이트`를 사용하게 되면서 EJB가 망해가면서, `하이버네이트`를 만든 사람을 데려와 `JPA`를 만든다.
   - 오늘날의 **자바 ORM**시장은 `JPA`가 대부분이며 하이버네이트 기반으로 만들어 졌다.
 - 또 다른 개발자(로드 존슨)는 단순하면서 더 좋은 방법을 코드로 작성해 책으로 출간하여 공유한다. 
   - EJB의 문제점을 정확히 지적하며, 3만 라인 이상의 기반 기술을 예제코드로 선보임 
   - BeanFactory, ApplicationContextm, POJP, 제어의 역전, 의존관계 주입등이 이 책에서 나옴
   - Spring의 오픈소스의 시작이 됨(이 책의 영향으로 `유겐 휠러`와 `얀 카로프`가 만나 Spring 오픈소스를 만듦)

## 스프링의 역사
 - 2003년 스프링 프레임워크 1.0 출시 - XML
 - 2006년 스프링 프레임워크 2.0 출시 - XML 편의 기능 지원
 - 2009년 스프링 프레임워크 3.0 출시 - 자바 코드로 설정
 - 2013년 스프링 프레임워크 4.0 출시 - 자바 8
 - 2014년 스프링부트 1.0 출시
 - 2017년 스프링 프레임워크 5.0, 스프링 부트 2.0 출시 - 리엑티브 프로그래밍 지원

<br></br>

# 스프링이란? 
<img src="https://user-images.githubusercontent.com/104331549/173177055-2d129e0a-6562-4cef-bf14-00c6e3dd7911.png">

- 스프링 데이터 : 데이터베이스의 CRUD(Create, Read, Update, Delete)를 편리하게 사용할 수 있게 도와주는 기술
- 스프링 세션 : 세션기능을 편리하게 쓸 수 있게 도와주는 기술
  - 세션 : 사용자가 웹 브라우저를 통해 웹 서버에 접속한 시점으로부터 웹 브라우저를 종료하여 연결을 끝내는 시점까지 같은 사용자로부터 오는 일련의 요청을 하나의 상태로 보고 그 상태를 일정하게 유지 하는 기술
  - 클라이언트 별로 각각의 상태 정보를 **서버에서 저장**하는 기술!
- 스프링 시큐리티 : 보안 기술 
- 스프링 Rest Docs : 테스트 코드를 기반으로 API 문서를 보다 편리하게 작성할 수 있는 기술
  - 반드시 Test가 통과되어야 문서가 작성 된다. 또한, 문서는 `asciidoc`를 사용한다.
  - 참고 링크 [우아한형제들 Spring Rest Docs 적용](https://techblog.woowahan.com/2597/)   
- 스프링 배치 : 데이터를 한번에 업데이트 해야할 때, 일괄처리하는 기술 
  - 로깅/추적, 트랜잭션관리, 작업 처리 통계, 작업의 재시작, 리소스 관리등 대용량 레코드 처리에 필수적인 기능을 제공한다.
  - 참고 링크 [Spring Batch 가이드 향로님의 Tistory](https://jojoldu.tistory.com/324)
- 스프링 클라우드 : 클라우드 기술에 특화됨
  - AWS와 같이 서버가 클라우드일 경우, 분산시스템이 매우 중요하다. 그렇다보니, 클라우드 기술에 맞춰 분산시스템을 제공해주는 기술이다.
  - 참고링크 [Spring Cloud 스프링공식홈페이지](https://spring.io/projects/spring-cloud)
  - 참고기사 [클라우드 서비스 시장 점유율연합뉴스](https://m.yna.co.kr/view/GYH20210205000400044)
- 그외에도 많은 기술이 존재한다.
- 이 많은 기술들을 편리하게 사용할 수 있게 도와주는게 `Spring Boot`

<br></br>

## 스프링 프레임워크
 - 핵심 기술 : 스프링 DI 컨테이너, AOP, 이벤트, 기타 
 - 웹 기술 : 스프링 MVC, 스프링 WebFlux
 - 데이터 접근 기술 : 트랜잭션, JDBC, ORM지원, XML지원 
 - 기술 통합 : 캐시, 이메일, 원격접근, 스케줄링
 - 테스트 : 스프링 기반 테스트 지원
 - 언어 : 코틀린, 그루비

## 스프링 부트 
 - 스프링을 편리하게 사용할 수 있도록 지원(기본적으로 사용한다.)
 - 단독으로 실행할 수 있는 스프링 애플리케이션을 쉽게 생성 
 - 빌드 구성을 위한 starter 종속성 제공,외부 라이브러리도 자동 구성하며, Tomcat같은 웹서버를 내장되어 별도 설치가 필요가 없다.
 - 메트릭, 상태확인, 외부 구성 같은 프로덕션 준비 기능 제공
 
> 즉, 관례에 의한 필요한 설정들을 스프링 부트가 알아서 준비 해준다.
> 스프링 프레임워크 없이도 사용할 순 있는데, 있어야 작업하기 더 좋으니, 스프링부트를 사용하기전에 스프링 프레임워크를 설치해놓는게 좋다.

### 스프링 단어? 
 > 문맥에 따라 다르다. 
  - 스프링 DI 컨테이너 기술
  - 스프링 프레임워크 
  - 스프링 부트와 스프링 프레임워크를 모두 포함.

<br></br>

> 그럼 스프링기술은 왜 만들었는가?, 핵심 컨셉은?
 - 웹을 만들고 DB접근이 편리하게 해주는 기술인가?

## 스프링의 진짜 핵심 
 - 자바언어 기반의 프레임워크 
 - 자바는 **객체 지향 언어**
 - **즉, 스프링은 좋은 객체 지향 애플리케이션을 개발할 수 있게 도와주는 프레임워크**

> 스프링을 이해하기전, 좋은 객체 지향이 뭔지를 알아야한다. 

<br></br>

---

# 객체 지향 프로그래밍 
 - 여기서 키워드는 `객체들의 모임`, `메시지를 주고받으며`, `유연하고 변경이 용이한`(대체가능성이 높은) 프로그래밍
 - 유연하고 변경이 용이하게 해주는 **다형성**!!
 - 다형성, 대체가능성이 사용하는 이유는 클라이언트를 위한 것!(ex. 자동차가 바뀌어도 운전자는 운전할 수 있다.)
   - 더 나아가 새로운 기능을 제공하기 좋다.(새로운 자동차가 나와도, 운전할 수 있다.)
   - 클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경할 수 있다. 
 - 역할(인터페이스)과 구현의 분리가 핵심

> 스프링은 다형성을 극대화해서 이용할 수 있게 도와준다.   
> 그래서 스프링에 제어의 역전(IoC), 의존관게 주입(Di)은 다형성을 활용해서 역할과 구현을 편리하게 다룰 수 있도록 지원한다.

<br></br>

## 좋은 객체지향 설계의 5가지 원칙 (SOLID)
### SRP 단일 책임 원칙
 - Single Responsibility Principle
 - 한 클래스는 하나의 책임만 가져야한다. 
    - 하나의 책임의 범위가 애매하다.
 - 중요한 기준은 변경이다. 변경이 있을 때 파급 효과가 적으면 단일 효과가 적으면 단일 책임 원칙을 잘 따른 것

### OCP 개방-폐쇄 원칙
 - Open/Closed Principle
 - 소프트웨어 요소는 `확장`에는 **열려있으나**, `변경`에는 **닫혀** 있어야 한다.
 - 구현과 역할의 분리

<p align =center><img src="https://user-images.githubusercontent.com/104331549/173189073-b36adf85-9b55-4e25-8c1b-143d892636b7.png" width="60%"></p>

> 하지만, 클라이언트가 구현 클래스를 직접 선택한 상태에서, 구현 클래스가 변경되면 어떻게 될까?
#### 문제점 
 - 구현 객체를 변경하려면 클라이언트 코드를 변경해야한다. 
 - 분명 다형성을 사용했지만, OCP 원칙을 지킬 수 없다.
 - 결국 코드를 변경을 해야하기에, 연관관계를 맺어주는 별도의 조립, 설정자가 필요하다. 

<p align="center"> <img src="https://user-images.githubusercontent.com/104331549/173189074-45223e6a-442a-476c-9ff7-2262b31f9501.png" width="60%"></p>


### LSP 리스코프 치환 원칙
 - Liskov Substitutution principle
 - 프로그램의 객체는 프로그램의 정확성을 깨뜨리지 않으면서 하위 타입의 인스턴스로 바꿀 수 있어야 한다.
 - 즉, 다형성에서 하위 클래스는 **인터페이스 규약을 다 지켜야 한다는 것**
   - 예) 자동차 인터페이스의 엑셀은 앞으로 가라는 기능, 뒤로 가게 구현하면 LSP 위반

### ISP 인터페이스 분리원칙
 - Interface Segregation Principle
 - 특정 클라이언트를 위한 인터페이스 여러개가 범용 인터페이스 하나보다 낫다.
 - 예시)
   - 자동차 인터페이스 -> 운전 인터페이스, 정비 인터페이스로 분리 
   - 사용자 인터페이스 -> 운전자 클라이언트, 정비사 클라이언트로 분리
   - 정비 인터페이스 자체가 변해도, 운전자 클라이언트에 영향을 주지 않음
   - 인터페이스가 명확해지고, 대체가능성이 높아진다.

### DIP 의존관계 역전 원칙
 - Dependency Inversion Principle
 - 구현 클래스에 의존하지 말고, 인터페이스에 의존하라는 뜻
 - 역할에 의존해야 구현체를 변경할 수가 있다.
 - 그런데 인터페이스에 의존하는 객체는 동시에 구현 클래스도 의존한다.
```java
    private MemberRepository m = new MemberRepository();
    // DIP 위반
```

## 정리
 - 핵심은 `다형성`
 - 다형성만으로는 OCP, DIP를 지킬수 없다. > **먼가 더 필요하다.**
> 스프링은  다형성과 OCP, DIP를 가능하게 기술로 지원한다.
  - DI : 의존관계, 의존성 주입
  - DI 컨테이너 제공
  - 클라이언트 코드의 변경없이 기능확장 가능
<br></br>
---



## 느낀점 😌
 - 스프링을 들어가기전에 객체지향 프로그래밍에 대한 이해가 얼마나 중요한지를 알게되는 섹션이었다.
 - 게다가 `객체지향의 사실과 오해`라는 책이 엄청나게 도움이 되었다. 
 - 스프링이 만들어지기까지의 스토리텔링을 보면,확실히 개발계는 끊임없이 부족한 부분을 채워가고 만들어 가는 곳 같다. 

### 참고 링크 
 - [youtube 테코톡 OOP](https://youtu.be/4rl6uMqVX2I)